<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAC Address Lookup - Find Vendor Details | Online Tools</title>
    
    <meta name="title" content="MAC Address Lookup - Find Vendor Details">
    <meta name="description" content="Free MAC address lookup tool to find manufacturer/vendor details from MAC address using real-time API. Check OUI database for network device identification.">
    <meta name="keywords" content="MAC address lookup, MAC vendor lookup, OUI lookup, MAC finder, network device identification, MAC address checker, OUI API">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="Online Tools">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #000000;
            font-style: italic;
        }

        /* Header - Same as portfolio */
        .fixed-header-container {
            position: sticky;
            top: 0;
            width: 100%;
            background: #ffffff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
            padding: 20px 0;
        }

        .navbar {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar ul {
            list-style: none;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .navbar ul li a {
            color: #000000;
            text-decoration: none;
            font-weight: 600;
            padding: 10px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            font-style: italic;
        }

        .navbar ul li a:hover {
            background: #667eea;
            color: white;
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            text-align: center;
            padding: 20px 0;
            font-weight: 700;
            font-style: italic;
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            width: 100%;
            flex: 1;
        }

        .breadcrumb {
            margin-bottom: 20px;
            color: #5a6c7d;
            font-style: italic;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            font-style: italic;
        }

        /* Tool Container */
        .tool-container {
            background: #ffffff;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .tool-title {
            font-size: 2em;
            color: #000000;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: bold;
            font-style: italic;
        }

        .tool-title i {
            color: #667eea;
            font-size: 2em;
        }

        .tool-description {
            color: #5a6c7d;
            margin-bottom: 30px;
            font-size: 1.05em;
            line-height: 1.6;
            font-style: italic;
        }

        /* Input Section */
        .input-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #000000;
            font-size: 1.1em;
            font-style: italic;
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 1em;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s ease;
            font-style: italic;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .formats {
            margin-top: 10px;
            color: #5a6c7d;
            font-size: 0.9em;
            font-style: italic;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 8px;
            font-style: italic;
            font-family: 'Montserrat', sans-serif;
        }

        .btn-lookup {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
        }

        .btn-lookup:hover {
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.5);
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #6c757d;
            color: white;
        }

        .btn-reset:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        .btn-example {
            background: #17a2b8;
            color: white;
            padding: 8px 20px;
            font-size: 0.9em;
        }

        .btn-example:hover {
            background: #138496;
        }

        .btn-batch {
            background: #28a745;
            color: white;
        }

        .btn-batch:hover {
            background: #218838;
        }

        /* Results Section */
        .results-section {
            display: none;
            margin-top: 30px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .results-section.show {
            display: block;
        }

        .result-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #f3e8ff 100%);
            border-left: 4px solid #667eea;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .mac-display {
            font-family: 'Courier New', monospace;
            font-size: 1.8em;
            font-weight: bold;
            color: #000000;
            background: white;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-style: italic;
        }

        .vendor-badge {
            background: #667eea;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
            font-style: italic;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .info-box {
            background: white;
            padding: 20px;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .info-label {
            font-size: 0.9em;
            color: #5a6c7d;
            margin-bottom: 5px;
            font-weight: 600;
            font-style: italic;
        }

        .info-value {
            font-size: 1.2em;
            color: #000000;
            font-weight: bold;
            word-break: break-word;
            font-style: italic;
        }

        /* Batch Results */
        .batch-results {
            margin-top: 30px;
        }

        .batch-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-top: 20px;
        }

        .batch-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
            font-style: italic;
        }

        .batch-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #dee2e6;
            font-style: italic;
        }

        .batch-table tr:hover {
            background: #f8f9fa;
        }

        /* Error Messages */
        .error-message {
            color: #dc3545;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
            font-style: italic;
        }

        .error-message.show {
            display: block;
        }

        .success-message {
            color: #28a745;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
            font-style: italic;
        }

        .success-message.show {
            display: block;
        }

        /* Loading Spinner */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f0f3ff;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* API Status */
        .api-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            font-size: 0.9em;
            font-style: italic;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #28a745;
        }

        .status-dot.offline {
            background: #dc3545;
        }

        /* Footer */
        footer {
            background: #ffffff;
            padding: 40px 20px;
            margin-top: 30px;
            border-top: 2px solid #f0f3ff;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .footer-column h3 {
            color: #000000;
            margin-bottom: 15px;
            font-weight: 700;
            font-style: italic;
        }

        .footer-column p, .footer-column a {
            color: #5a6c7d;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .footer-column a {
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-column a:hover {
            color: #667eea;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            margin-top: 20px;
            border-top: 1px solid #e0e4e8;
            color: #5a6c7d;
            font-size: 0.9em;
            font-style: italic;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .tool-container {
                padding: 20px;
            }

            .tool-title {
                font-size: 1.5em;
            }

            .input-section {
                padding: 20px;
            }

            .result-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .mac-display {
                font-size: 1.4em;
            }

            .result-grid {
                grid-template-columns: 1fr;
            }

            .batch-table th, .batch-table td {
                padding: 8px 10px;
                font-size: 0.9em;
            }

            .navbar ul {
                gap: 10px;
            }

            .navbar ul li a {
                font-size: 0.9em;
                padding: 8px 10px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px 10px;
            }

            .tool-container {
                padding: 15px;
            }

            h1 {
                font-size: 1.5em;
            }

            .button-group {
                flex-direction: column;
            }

            button {
                width: 100%;
                justify-content: center;
            }

            .mac-display {
                font-size: 1.2em;
                padding: 8px 15px;
            }
        }

        /* MAC Formats Examples */
        .examples {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .example-list {
            list-style: none;
            margin-top: 10px;
        }

        .example-list li {
            padding: 5px 0;
            color: #5a6c7d;
            font-family: 'Courier New', monospace;
            font-style: italic;
        }

        .example-list li:before {
            content: "• ";
            color: #667eea;
            font-weight: bold;
        }

        /* History Section */
        .history-section {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .history-list {
            list-style: none;
            margin-top: 10px;
        }

        .history-list li {
            padding: 8px;
            border-bottom: 1px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s ease;
            font-style: italic;
        }

        .history-list li:hover {
            background: #e9ecef;
            color: #667eea;
        }

        .history-list li:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>

<div class="fixed-header-container">
    <div class="navbar">
        <h1 style="margin: 0; text-align: left; font-size: 1.8em;">ONLINE TOOLS</h1>
    </div>
    <div class="navbar" style="justify-content: center; padding: 10px 20px;">
        <ul>
            <li><a href="../../index.html"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="../../skills.html"><i class="fas fa-cogs"></i> Skills</a></li>
            <li><a href="../tools.html"><i class="fas fa-tools"></i> Tools</a></li>
            <li><a href="../../certificate.html"><i class="fas fa-certificate"></i> Certificate</a></li>
            <li><a href="../../contact.html"><i class="fas fa-phone"></i> Contact</a></li>
        </ul>
    </div>
</div>

<div class="container">
    <div class="breadcrumb">
        <a href="../../index.html">Home</a> / 
        <a href="../tools.html">Tools</a> / 
        <a href="../tools.html#network">Network Tools</a> / 
        MAC Address Lookup
    </div>

    <div class="tool-container">
        <h2 class="tool-title">
            <i class="fas fa-network-wired"></i> MAC Address Lookup
        </h2>
        <p class="tool-description">
            Find manufacturer/vendor details from MAC address using real-time API. Enter MAC address in any common format to get complete vendor information.
        </p>

        <div class="input-section">
            <!-- Single MAC Lookup -->
            <div class="input-group">
                <label class="input-label">Enter MAC Address</label>
                <input type="text" id="macInput" class="input-field" placeholder="e.g., 00:1A:2B:3C:4D:5E or 00-1A-2B-3C-4D-5E">
                <div class="error-message" id="macInputError">Please enter a valid MAC address</div>
                <div class="success-message" id="macInputSuccess">MAC address is valid</div>
                <div class="formats">
                    Supported formats: 00:1A:2B:3C:4D:5E, 00-1A-2B-3C-4D-5E, 001A.2B3C.4D5E, 001A2B-3C4D5E, 001A2B3C4D5E
                </div>
                <div class="api-status">
                    <span class="status-dot" id="apiStatusDot"></span>
                    <span id="apiStatusText">Checking API status...</span>
                </div>
            </div>

            <!-- Batch Lookup -->
            <div class="input-group" id="batchSection">
                <label class="input-label">Batch Lookup (Multiple MAC addresses - one per line)</label>
                <textarea id="batchInput" class="input-field" rows="4" placeholder="Enter multiple MAC addresses, one per line:
00:1A:2B:3C:4D:5E
00:1C:B3:4A:5F:6D
08:00:27:8A:9B:CC"></textarea>
                <div class="error-message" id="batchInputError">Please enter valid MAC addresses</div>
            </div>

            <!-- Lookup History -->
            <div class="history-section" id="historySection" style="display: none;">
                <label class="input-label">Recent Lookups</label>
                <ul class="history-list" id="historyList">
                    <!-- History items will be added here -->
                </ul>
            </div>

            <!-- Action Buttons -->
            <div class="button-group">
                <button class="btn-lookup" onclick="lookupMAC()">
                    <i class="fas fa-search"></i> Lookup MAC Address
                </button>
                <button class="btn-batch" onclick="batchLookup()">
                    <i class="fas fa-list"></i> Batch Lookup
                </button>
                <button class="btn-reset" onclick="resetTool()">
                    <i class="fas fa-redo"></i> Reset
                </button>
                <button class="btn-example" onclick="fillExamples()">
                    <i class="fas fa-vial"></i> Use Examples
                </button>
            </div>
        </div>

        <!-- Examples Section -->
        <div class="examples">
            <p><strong>MAC Address Examples:</strong></p>
            <ul class="example-list">
                <li>Apple: 00:1C:B3:4A:5F:6D</li>
                <li>Dell: 00:1D:7D:4A:5F:6D</li>
                <li>Intel: 00:1C:C0:4A:5F:6D</li>
                <li>Cisco: 00:1B:D5:4A:5F:6D</li>
                <li>HP: 00:1E:68:4A:5F:6D</li>
                <li>Samsung: 5C:3A:45:8B:9C:1D</li>
                <li>TP-Link: 00:1B:63:4A:5F:6D</li>
            </ul>
        </div>

        <!-- Loading Indicator -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Looking up MAC address...</p>
        </div>

        <!-- Single Result Section -->
        <div class="results-section" id="singleResultSection">
            <div class="result-card" id="singleResultCard">
                <div class="result-header">
                    <div class="mac-display" id="resultMAC">--</div>
                    <span class="vendor-badge" id="resultVendorBadge">Unknown Vendor</span>
                </div>
                
                <div class="result-grid">
                    <div class="info-box">
                        <div class="info-label">Vendor / Manufacturer</div>
                        <div class="info-value" id="resultVendor">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">OUI (Organizationally Unique Identifier)</div>
                        <div class="info-value" id="resultOUI">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Company Address</div>
                        <div class="info-value" id="resultCompany">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Country</div>
                        <div class="info-value" id="resultCountry">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">MAC Type</div>
                        <div class="info-value" id="resultType">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Block Size</div>
                        <div class="info-value" id="resultBlock">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">MAC Format</div>
                        <div class="info-value" id="resultFormat">--</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">API Source</div>
                        <div class="info-value" id="resultSource">--</div>
                    </div>
                </div>
            </div>

            <!-- Additional Info -->
            <div style="margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                <h3 style="color: #000000; margin-bottom: 10px; font-weight: bold; font-style: italic;">
                    <i class="fas fa-info-circle"></i> About MAC Address
                </h3>
                <p style="color: #5a6c7d; font-style: italic; line-height: 1.6;" id="macInfo">
                    A MAC (Media Access Control) address is a unique identifier assigned to network interfaces for communications on the physical network segment.
                </p>
            </div>
        </div>

        <!-- Batch Results Section -->
        <div class="results-section" id="batchResultSection">
            <h3 style="color: #000000; margin-bottom: 20px; font-weight: bold; font-style: italic;">
                <i class="fas fa-table"></i> Batch Lookup Results
            </h3>
            <div class="batch-results">
                <table class="batch-table" id="batchTable">
                    <thead>
                        <tr>
                            <th>MAC Address</th>
                            <th>Vendor</th>
                            <th>OUI</th>
                            <th>Country</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="batchTableBody">
                        <!-- Results will be populated here -->
                    </tbody>
                </table>
            </div>

            <!-- Batch Summary -->
            <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <p style="color: #5a6c7d; font-style: italic;">
                    <strong>Results:</strong> <span id="batchSummary">0 addresses processed</span> | 
                    <strong>Successful:</strong> <span id="batchSuccess">0</span> | 
                    <strong>Failed:</strong> <span id="batchFailed">0</span>
                </p>
            </div>
        </div>

        <!-- Action Buttons for Results -->
        <div class="button-group" id="resultActions" style="display: none;">
            <button class="btn-lookup" onclick="copyResults()">
                <i class="fas fa-copy"></i> Copy Results
            </button>
            <button class="btn-batch" onclick="exportResults()">
                <i class="fas fa-download"></i> Export CSV
            </button>
            <button class="btn-reset" onclick="clearResults()">
                <i class="fas fa-times"></i> Clear Results
            </button>
        </div>
    </div>
</div>

<footer>
    <div class="footer-container">
        <div class="footer-column">
            <h3>About MAC Address Lookup</h3>
            <p>MAC address lookup identifies the manufacturer of network devices using real-time API to query the OUI (Organizationally Unique Identifier) database.</p>
        </div>
        <div class="footer-column">
            <h3>Free API Services</h3>
            <p>This tool uses free public APIs from macaddress.io and macvendors.com to provide accurate, up-to-date vendor information.</p>
        </div>
        <div class="footer-column">
            <h3>Privacy Policy</h3>
            <p>We do not store your searched MAC addresses. All lookups are processed in real-time through secure API connections.</p>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Online Tools. All rights reserved.</p>
    </div>
</footer>

<script>
    // MAC Address Validation and Formatting
    function validateMAC(mac) {
        // Remove all non-alphanumeric characters
        const cleaned = mac.replace(/[^A-Fa-f0-9]/g, '').toUpperCase();
        
        // Check if it's a valid MAC address (12 hex characters)
        if (!/^[A-F0-9]{12}$/.test(cleaned)) {
            return null;
        }
        
        // Format as colon-separated
        const formatted = cleaned.match(/.{2}/g).join(':');
        return {
            raw: cleaned,
            formatted: formatted,
            oui: cleaned.substring(0, 6)
        };
    }

    // Free Public APIs for MAC Address Lookup
    const API_ENDPOINTS = [
        {
            name: 'macaddress.io',
            url: (mac) => `https://api.macaddress.io/v1?apiKey=demo&output=json&search=${mac}`,
            parse: (data) => {
                if (data.vendorDetails && data.vendorDetails.companyName) {
                    return {
                        vendor: data.vendorDetails.companyName,
                        address: data.vendorDetails.companyAddress || 'Not available',
                        country: data.vendorDetails.countryCode || 'Unknown',
                        block: data.blockDetails && data.blockDetails.blockSize ? 
                               `${data.blockDetails.blockSize} addresses` : 'Unknown',
                        source: 'macaddress.io'
                    };
                }
                return null;
            }
        },
        {
            name: 'macvendors.com',
            url: (mac) => `https://api.macvendors.com/${encodeURIComponent(mac)}`,
            parse: async (response) => {
                const text = await response.text();
                if (response.ok && text && !text.includes('Not Found')) {
                    return {
                        vendor: text,
                        address: 'Information from macvendors.com',
                        country: 'Check vendor details',
                        block: 'Standard OUI block',
                        source: 'macvendors.com'
                    };
                }
                return null;
            },
            isText: true
        }
    ];

    // Alternative: Use a fallback local database
    const LOCAL_DATABASE = {
        "001C2B": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "001D7D": { vendor: "Dell Inc.", country: "United States", address: "One Dell Way, Round Rock, TX" },
        "001CC0": { vendor: "Intel Corporate", country: "United States", address: "2200 Mission College Blvd, Santa Clara, CA" },
        "001BD5": { vendor: "Cisco Systems, Inc", country: "United States", address: "170 West Tasman Dr., San Jose, CA" },
        "001E68": { vendor: "Hewlett Packard", country: "United States", address: "1501 Page Mill Road, Palo Alto, CA" },
        "0050F2": { vendor: "Microsoft Corporation", country: "United States", address: "One Microsoft Way, Redmond, WA" },
        "000C29": { vendor: "VMware, Inc.", country: "United States", address: "3401 Hillview Ave, Palo Alto, CA" },
        "080027": { vendor: "PCS Systemtechnik GmbH", country: "Germany", address: "Römerstrasse 47, D-71229 Leonberg" },
        "00A0C9": { vendor: "Intel Corporation", country: "United States", address: "2200 Mission College Blvd, Santa Clara, CA" },
        "001B63": { vendor: "TP-LINK TECHNOLOGIES CO.,LTD.", country: "China", address: "Building 24, Shenzhen Software Park, Shenzhen" },
        "5C3A45": { vendor: "Samsung Electronics Co.,Ltd", country: "South Korea", address: "129, Samsung-ro, Yeongtong-gu, Suwon-si" },
        "001A2B": { vendor: "ASUSTek COMPUTER INC.", country: "Taiwan", address: "No. 15, Li-Te Rd., Beitou, Taipei" },
        "0016CB": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "0019E3": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "001D4F": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "001F5B": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "0021E9": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "00236C": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "002500": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "0026AB": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" },
        "0026BB": { vendor: "Apple, Inc.", country: "United States", address: "1 Infinite Loop, Cupertino, CA" }
    };

    // Global variables
    let lookupHistory = JSON.parse(localStorage.getItem('macLookupHistory') || '[]');
    let currentResults = [];

    // Check API Status
    async function checkAPIStatus() {
        const statusDot = document.getElementById('apiStatusDot');
        const statusText = document.getElementById('apiStatusText');
        
        try {
            // Test the first API
            const testMAC = '00:1C:B3:4A:5F:6D';
            const response = await fetch(`https://api.macaddress.io/v1?apiKey=demo&output=json&search=${testMAC}`);
            
            if (response.ok) {
                statusDot.className = 'status-dot';
                statusText.textContent = 'API: Online (macaddress.io)';
            } else {
                throw new Error('API not available');
            }
        } catch (error) {
            statusDot.className = 'status-dot offline';
            statusText.textContent = 'API: Offline (Using local database)';
        }
    }

    // Lookup MAC Address
    async function lookupMAC() {
        const macInput = document.getElementById('macInput').value.trim();
        const errorElement = document.getElementById('macInputError');
        const successElement = document.getElementById('macInputSuccess');
        
        // Clear previous messages
        errorElement.classList.remove('show');
        successElement.classList.remove('show');
        
        // Validate MAC address
        const macInfo = validateMAC(macInput);
        if (!macInfo) {
            errorElement.textContent = 'Invalid MAC address format. Please enter a valid MAC address.';
            errorElement.classList.add('show');
            return;
        }
        
        // Show loading
        document.getElementById('loading').classList.add('show');
        document.getElementById('singleResultSection').classList.remove('show');
        document.getElementById('batchResultSection').classList.remove('show');
        document.getElementById('resultActions').style.display = 'none';
        
        try {
            // Try API first
            const result = await lookupFromAPI(macInfo);
            
            if (!result) {
                // Fallback to local database
                const localResult = lookupFromLocal(macInfo);
                if (localResult) {
                    displayResult(macInfo, localResult);
                } else {
                    displayResult(macInfo, {
                        vendor: 'Unknown Vendor',
                        address: 'Not found in database',
                        country: 'Unknown',
                        block: 'Unknown',
                        source: 'Local database'
                    });
                }
            } else {
                displayResult(macInfo, result);
            }
            
            // Add to history
            addToHistory(macInfo.formatted);
            successElement.textContent = 'MAC address found!';
            successElement.classList.add('show');
            
        } catch (error) {
            errorElement.textContent = 'Error looking up MAC address. Please try again.';
            errorElement.classList.add('show');
            console.error('MAC lookup error:', error);
        } finally {
            document.getElementById('loading').classList.remove('show');
        }
    }

    // Lookup from API
    async function lookupFromAPI(macInfo) {
        for (const api of API_ENDPOINTS) {
            try {
                const response = await fetch(api.url(macInfo.raw));
                
                if (api.isText) {
                    const data = await api.parse(response);
                    if (data) return data;
                } else {
                    const data = await response.json();
                    const result = api.parse(data);
                    if (result) return result;
                }
            } catch (error) {
                console.log(`API ${api.name} failed:`, error);
                continue;
            }
        }
        return null;
    }

    // Lookup from local database
    function lookupFromLocal(macInfo) {
        const oui = macInfo.oui.toUpperCase();
        const vendorInfo = LOCAL_DATABASE[oui];
        
        if (vendorInfo) {
            return {
                vendor: vendorInfo.vendor,
                address: vendorInfo.address || 'Address not available',
                country: vendorInfo.country || 'Unknown',
                block: 'Standard OUI block (16.7 million addresses)',
                source: 'Local database'
            };
        }
        return null;
    }

    // Display result
    function displayResult(macInfo, data) {
        document.getElementById('resultMAC').textContent = macInfo.formatted;
        document.getElementById('resultVendorBadge').textContent = data.vendor;
        document.getElementById('resultVendor').textContent = data.vendor;
        document.getElementById('resultOUI').textContent = macInfo.oui;
        document.getElementById('resultCompany').textContent = data.address;
        document.getElementById('resultCountry').textContent = data.country;
        document.getElementById('resultType').textContent = data.vendor.includes('Apple') ? 'Global (Apple)' : 'Global';
        document.getElementById('resultBlock').textContent = data.block;
        document.getElementById('resultFormat').textContent = 'Colon-separated';
        document.getElementById('resultSource').textContent = data.source;
        
        // Show result section
        document.getElementById('singleResultSection').classList.add('show');
        document.getElementById('resultActions').style.display = 'flex';
        
        // Update history section
        updateHistoryDisplay();
    }

    // Batch lookup
    async function batchLookup() {
        const batchInput = document.getElementById('batchInput').value.trim();
        const errorElement = document.getElementById('batchInputError');
        
        errorElement.classList.remove('show');
        
        if (!batchInput) {
            errorElement.textContent = 'Please enter at least one MAC address';
            errorElement.classList.add('show');
            return;
        }
        
        const macs = batchInput.split('\n')
            .map(line => line.trim())
            .filter(line => line.length > 0);
        
        if (macs.length === 0) {
            errorElement.textContent = 'Please enter valid MAC addresses';
            errorElement.classList.add('show');
            return;
        }
        
        // Show loading
        document.getElementById('loading').classList.add('show');
        document.getElementById('singleResultSection').classList.remove('show');
        document.getElementById('batchResultSection').classList.remove('show');
        
        try {
            const results = [];
            let successCount = 0;
            let failedCount = 0;
            
            for (const mac of macs) {
                const macInfo = validateMAC(mac);
                if (!macInfo) {
                    results.push({
                        mac: mac,
                        vendor: 'Invalid format',
                        oui: 'N/A',
                        country: 'N/A',
                        status: 'Error'
                    });
                    failedCount++;
                    continue;
                }
                
                try {
                    const apiResult = await lookupFromAPI(macInfo);
                    if (apiResult) {
                        results.push({
                            mac: macInfo.formatted,
                            vendor: apiResult.vendor,
                            oui: macInfo.oui,
                            country: apiResult.country,
                            status: 'Success'
                        });
                        successCount++;
                        
                        // Add to history
                        addToHistory(macInfo.formatted);
                    } else {
                        const localResult = lookupFromLocal(macInfo);
                        if (localResult) {
                            results.push({
                                mac: macInfo.formatted,
                                vendor: localResult.vendor,
                                oui: macInfo.oui,
                                country: localResult.country,
                                status: 'Success (Local)'
                            });
                            successCount++;
                        } else {
                            results.push({
                                mac: macInfo.formatted,
                                vendor: 'Not found',
                                oui: macInfo.oui,
                                country: 'Unknown',
                                status: 'Not found'
                            });
                            failedCount++;
                        }
                    }
                } catch (error) {
                    results.push({
                        mac: macInfo.formatted,
                        vendor: 'API Error',
                        oui: macInfo.oui,
                        country: 'N/A',
                        status: 'Error'
                    });
                    failedCount++;
                }
            }
            
            displayBatchResults(results, successCount, failedCount);
            
        } catch (error) {
            errorElement.textContent = 'Error processing batch lookup';
            errorElement.classList.add('show');
            console.error('Batch lookup error:', error);
        } finally {
            document.getElementById('loading').classList.remove('show');
        }
    }

    // Display batch results
    function displayBatchResults(results, successCount, failedCount) {
        const tableBody = document.getElementById('batchTableBody');
        tableBody.innerHTML = '';
        
        results.forEach(result => {
            const row = document.createElement('tr');
            const statusClass = result.status === 'Success' ? 'status-success' : 
                              result.status.includes('Error') ? 'status-error' : 'status-warning';
            
            row.innerHTML = `
                <td><strong>${result.mac}</strong></td>
                <td>${result.vendor}</td>
                <td>${result.oui}</td>
                <td>${result.country}</td>
                <td><span class="${statusClass}">${result.status}</span></td>
            `;
            tableBody.appendChild(row);
        });
        
        document.getElementById('batchSummary').textContent = `${results.length} addresses processed`;
        document.getElementById('batchSuccess').textContent = successCount;
        document.getElementById('batchFailed').textContent = failedCount;
        
        document.getElementById('batchResultSection').classList.add('show');
        document.getElementById('resultActions').style.display = 'flex';
        
        // Update history
        updateHistoryDisplay();
    }

    // History functions
    function addToHistory(mac) {
        // Remove if already exists
        lookupHistory = lookupHistory.filter(item => item !== mac);
        
        // Add to beginning
        lookupHistory.unshift(mac);
        
        // Keep only last 10 items
        if (lookupHistory.length > 10) {
            lookupHistory = lookupHistory.slice(0, 10);
        }
        
        // Save to localStorage
        localStorage.setItem('macLookupHistory', JSON.stringify(lookupHistory));
    }

    function updateHistoryDisplay() {
        const historyList = document.getElementById('historyList');
        const historySection = document.getElementById('historySection');
        
        if (lookupHistory.length > 0) {
            historyList.innerHTML = '';
            lookupHistory.forEach(mac => {
                const li = document.createElement('li');
                li.textContent = mac;
                li.onclick = () => {
                    document.getElementById('macInput').value = mac;
                    lookupMAC();
                };
                historyList.appendChild(li);
            });
            historySection.style.display = 'block';
        } else {
            historySection.style.display = 'none';
        }
    }

    // Utility functions
    function fillExamples() {
        document.getElementById('macInput').value = '00:1C:B3:4A:5F:6D';
        document.getElementById('batchInput').value = `00:1C:B3:4A:5F:6D
00:1D:7D:4A:5F:6D
00:1C:C0:4A:5F:6D
00:1B:D5:4A:5F:6D
00:1E:68:4A:5F:6D`;
    }

    function resetTool() {
        document.getElementById('macInput').value = '';
        document.getElementById('batchInput').value = '';
        document.getElementById('singleResultSection').classList.remove('show');
        document.getElementById('batchResultSection').classList.remove('show');
        document.getElementById('resultActions').style.display = 'none';
        document.querySelectorAll('.error-message').forEach(el => el.classList.remove('show'));
        document.querySelectorAll('.success-message').forEach(el => el.classList.remove('show'));
    }

    function copyResults() {
        let text = 'MAC Address Lookup Results\n\n';
        
        if (document.getElementById('singleResultSection').classList.contains('show')) {
            const mac = document.getElementById('resultMAC').textContent;
            const vendor = document.getElementById('resultVendor').textContent;
            const country = document.getElementById('resultCountry').textContent;
            const oui = document.getElementById('resultOUI').textContent;
            
            text += `MAC Address: ${mac}\n`;
            text += `Vendor: ${vendor}\n`;
            text += `OUI: ${oui}\n`;
            text += `Country: ${country}\n`;
            text += `Source: ${document.getElementById('resultSource').textContent}\n`;
        } else if (document.getElementById('batchResultSection').classList.contains('show')) {
            const rows = document.querySelectorAll('#batchTableBody tr');
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                text += `${cells[0].textContent} | ${cells[1].textContent} | ${cells[2].textContent} | ${cells[3].textContent}\n`;
            });
        }
        
        navigator.clipboard.writeText(text).then(() => {
            alert('Results copied to clipboard!');
        });
    }

    function exportResults() {
        let csv = 'MAC Address,Vendor,OUI,Country,Status\n';
        
        if (document.getElementById('batchResultSection').classList.contains('show')) {
            const rows = document.querySelectorAll('#batchTableBody tr');
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                csv += `"${cells[0].textContent}","${cells[1].textContent}","${cells[2].textContent}","${cells[3].textContent}","${cells[4].textContent}"\n`;
            });
        } else {
            const mac = document.getElementById('resultMAC').textContent;
            const vendor = document.getElementById('resultVendor').textContent;
            const country = document.getElementById('resultCountry').textContent;
            const oui = document.getElementById('resultOUI').textContent;
            
            csv += `"${mac}","${vendor}","${oui}","${country}","Success"\n`;
        }
        
        const blob = new Blob([csv], { type: 'text/csv' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'mac_address_lookup.csv';
        a.click();
        window.URL.revokeObjectURL(url);
    }

    function clearResults() {
        document.getElementById('singleResultSection').classList.remove('show');
        document.getElementById('batchResultSection').classList.remove('show');
        document.getElementById('resultActions').style.display = 'none';
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
        // Set return category
        localStorage.setItem('returnToCategory', 'network');
        
        // Check API status
        checkAPIStatus();
        
        // Load history
        updateHistoryDisplay();
        
        // Real-time validation
        document.getElementById('macInput').addEventListener('input', function() {
            const mac = this.value.trim();
            const errorElement = document.getElementById('macInputError');
            const successElement = document.getElementById('macInputSuccess');
            
            errorElement.classList.remove('show');
            successElement.classList.remove('show');
            
            if (mac.length >= 12) {
                const macInfo = validateMAC(mac);
                if (macInfo) {
                    successElement.textContent = 'Valid MAC address format';
                    successElement.classList.add('show');
                } else {
                    errorElement.textContent = 'Invalid MAC address format';
                    errorElement.classList.add('show');
                }
            }
        });
    });
</script>

</body>
</html>