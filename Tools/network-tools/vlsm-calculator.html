<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLSM Calculator - Online Tools</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #2c3e50;
        }

        .fixed-header-container {
            position: sticky;
            top: 0;
            width: 100%;
            background: #ffffff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 20px;
        }

        .logo {
            display: none;
        }

        h1 {
            color: #2563eb;
            font-size: 2.5em;
            text-align: center;
            padding: 20px 0;
            font-weight: 700;
        }

        .navbar {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .nav-container {
            display: flex;
            align-items: center;
        }

        .navbar ul {
            list-style: none;
            display: flex;
            gap: 30px;
            margin: 0;
            padding: 0;
            align-items: center;
        }

        .navbar ul li a {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1em;
            white-space: nowrap;
        }

        .navbar ul li a:hover {
            color: #2563eb;
        }

        .navbar ul li a i {
            font-size: 1.2em;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
            padding: 10px;
        }

        .hamburger span {
            width: 28px;
            height: 3px;
            background: #2563eb;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(8px, -8px);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
            width: 100%;
            flex: 1;
        }

        .breadcrumb {
            margin-bottom: 20px;
            color: #5a6c7d;
        }

        .breadcrumb a {
            color: #2563eb;
            text-decoration: none;
            font-weight: 600;
        }

        .tool-container {
            background: #ffffff;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .tool-title {
            font-size: 2em;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .tool-title i {
            color: #2563eb;
            font-size: 2em;
        }

        .tool-description {
            color: #5a6c7d;
            margin-bottom: 30px;
            font-size: 1.05em;
            line-height: 1.6;
        }

        .section-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin: 40px 0 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f3ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #2563eb;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
        }

        .input-group input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .subnet-input-container {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: flex-end;
        }

        .subnet-input-container input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .subnet-input-container input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .subnet-input-container .subnet-name-input {
            font-family: 'Montserrat', sans-serif;
        }

        .subnet-input-container .subnet-hosts-input {
            font-family: 'Courier New', monospace;
        }

        .btn-remove {
            padding: 12px 20px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'Montserrat', sans-serif;
        }

        .btn-remove:hover {
            background: #dc2626;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .btn-add {
            padding: 12px 25px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            font-family: 'Montserrat', sans-serif;
        }

        .btn-add:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .btn-calculate {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
            font-family: 'Montserrat', sans-serif;
        }

        .btn-calculate:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(37, 99, 235, 0.5);
        }

        .results-container {
            margin-top: 40px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .results-container.show {
            display: block;
        }

        .subnet-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
            border-left: 5px solid #2563eb;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .subnet-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.2);
        }

        .subnet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .subnet-name {
            font-size: 1.3em;
            font-weight: 700;
            color: #2563eb;
        }

        .subnet-badge {
            background: #2563eb;
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .subnet-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .info-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .info-label {
            font-size: 0.85em;
            color: #64748b;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.05em;
            color: #1e293b;
            font-weight: 700;
            font-family: 'Courier New', monospace;
        }

        .error-message {
            background: #fee2e2;
            border-left: 4px solid #ef4444;
            padding: 15px;
            border-radius: 8px;
            color: #991b1b;
            margin-top: 20px;
            display: none;
            font-weight: 600;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .summary-card {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.2);
        }

        .summary-card h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .summary-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
        }

        .summary-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .summary-value {
            font-size: 2em;
            font-weight: 700;
        }

        .btn-export {
            padding: 12px 25px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            font-family: 'Montserrat', sans-serif;
        }

        .btn-export:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        footer {
            background: #ffffff;
            padding: 40px 20px;
            margin-top: 30px;
            border-top: 2px solid #f0f3ff;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .footer-column h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .footer-column p {
            color: #5a6c7d;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            margin-top: 20px;
            border-top: 1px solid #e0e4e8;
            color: #5a6c7d;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .header-content {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .tool-container {
                padding: 20px;
            }

            .tool-title {
                font-size: 1.5em;
            }

            .subnet-input-container {
                flex-direction: column;
                align-items: stretch;
            }

            .subnet-info {
                grid-template-columns: 1fr;
            }

            .hamburger {
                display: flex;
            }

            .navbar {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #ffffff;
                padding: 15px 0;
                box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            }

            .navbar.active {
                display: block;
            }

            .navbar ul {
                flex-direction: column;
                gap: 0;
                padding: 0;
            }

            .navbar ul li {
                width: 100%;
            }

            .navbar ul li a {
                width: 100%;
                justify-content: flex-start;
                padding: 12px 20px;
                border-radius: 0;
            }

            .navbar ul li a:hover {
                background: #f0f9ff;
                color: #2563eb;
            }

            .summary-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px 10px;
            }

            .tool-container {
                padding: 15px;
            }

            h1 {
                font-size: 1.5em;
            }

            .section-title {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>

<div class="fixed-header-container">
    <div class="header-content">
        <nav class="navbar" id="navbar">
            <div class="nav-container">
                <ul id="navMenu">
                    <li><a href="../../index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="../../skills.html"><i class="fas fa-cogs"></i> Skills</a></li>
                    <li><a href="../tools.html"><i class="fas fa-tools"></i> Tools</a></li>
                    <li><a href="../../certificate.html"><i class="fas fa-certificate"></i> Certificate</a></li>
                    <li><a href="../../contact.html"><i class="fas fa-phone"></i> Contact</a></li>
                </ul>
            </div>
        </nav>
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
</div>

<div class="container">
    <div class="breadcrumb">
        <a href="../../index.html">Home</a> / 
        <a href="../tools.html">Tools</a> / 
        <a href="../tools.html">Network</a> / 
        VLSM Calculator
    </div>

    <div class="tool-container">
        <h2 class="tool-title">
            <i class="fas fa-network-wired"></i> VLSM Calculator
        </h2>
        <p class="tool-description">
            Variable Length Subnet Mask (VLSM) Calculator - Professional network subnetting tool for efficient IP address allocation. Calculate optimal subnets based on your host requirements with complete network details.
        </p>

        <div class="section-title">
            <i class="fas fa-cog"></i> Network Configuration
        </div>

        <div class="input-group">
            <label for="networkIP">
                <i class="fas fa-globe"></i> Network IP Address
            </label>
            <input type="text" id="networkIP" placeholder="e.g., 192.168.1.0" value="192.168.1.0">
        </div>

        <div class="input-group">
            <label for="subnetMask">
                <i class="fas fa-shield-alt"></i> Subnet Mask or CIDR Notation
            </label>
            <input type="text" id="subnetMask" placeholder="e.g., 255.255.255.0 or /24" value="/24">
        </div>

        <div class="section-title">
            <i class="fas fa-sitemap"></i> Subnet Requirements
        </div>

        <div id="subnetsContainer">
            <div class="subnet-input-container">
                <input type="text" class="subnet-name-input" placeholder="Subnet Name (e.g., Sales Department)">
                <input type="number" class="subnet-hosts-input" placeholder="Required Hosts" min="1">
                <button class="btn-remove" onclick="removeSubnet(this)">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>

        <button class="btn-add" onclick="addSubnet()">
            <i class="fas fa-plus"></i> Add Another Subnet
        </button>

        <button class="btn-calculate" onclick="calculateVLSM()">
            <i class="fas fa-calculator"></i> Calculate VLSM
        </button>

        <div class="error-message" id="errorMessage">
            <i class="fas fa-exclamation-triangle"></i> <span id="errorText"></span>
        </div>

        <div class="results-container" id="resultsContainer">
            <div class="summary-card">
                <h3><i class="fas fa-chart-pie"></i> Network Summary</h3>
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="summary-label">Total Subnets</div>
                        <div class="summary-value" id="totalSubnets">0</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Total Hosts Allocated</div>
                        <div class="summary-value" id="totalHosts">0</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Total IPs Used</div>
                        <div class="summary-value" id="ipsUsed">0</div>
                    </div>
                </div>
            </div>

            <div class="section-title">
                <i class="fas fa-list"></i> Subnet Details
            </div>

            <div id="subnetResults"></div>

            <button class="btn-export" onclick="exportResults()">
                <i class="fas fa-download"></i> Export Results to Text File
            </button>
        </div>
    </div>
</div>

<footer>
    <div class="footer-container">
        <div class="footer-column">
            <h3>About VLSM Calculator</h3>
            <p>This VLSM (Variable Length Subnet Mask) calculator helps network administrators efficiently divide IP networks into subnets of different sizes based on actual host requirements, minimizing IP address waste.</p>
        </div>
        <div class="footer-column">
            <h3>What is VLSM?</h3>
            <p>VLSM allows the creation of subnets with different subnet masks within the same network. This technique optimizes IP address allocation by assigning appropriately sized subnets to different network segments based on their specific needs.</p>
        </div>
        <div class="footer-column">
            <h3>How to Use</h3>
            <p>Enter your network IP and subnet mask, then add subnets with their required host counts. The calculator automatically sorts and allocates optimal subnet sizes following VLSM best practices (largest subnets first).</p>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Online Tools. All rights reserved.</p>
    </div>
</footer>

<script>
    function addSubnet() {
        const container = document.getElementById('subnetsContainer');
        const div = document.createElement('div');
        div.className = 'subnet-input-container';
        div.innerHTML = `
            <input type="text" class="subnet-name-input" placeholder="Subnet Name">
            <input type="number" class="subnet-hosts-input" placeholder="Required Hosts" min="1">
            <button class="btn-remove" onclick="removeSubnet(this)">
                <i class="fas fa-trash"></i>
            </button>
        `;
        container.appendChild(div);
    }

    function removeSubnet(btn) {
        const container = document.getElementById('subnetsContainer');
        if (container.children.length > 1) {
            btn.parentElement.remove();
        } else {
            alert('At least one subnet is required!');
        }
    }

    function ipToInt(ip) {
        return ip.split('.').reduce((acc, octet) => (acc << 8) + parseInt(octet), 0) >>> 0;
    }

    function intToIp(int) {
        return [
            (int >>> 24) & 255,
            (int >>> 16) & 255,
            (int >>> 8) & 255,
            int & 255
        ].join('.');
    }

    function cidrToMask(cidr) {
        const mask = -1 << (32 - cidr);
        return intToIp(mask >>> 0);
    }

    function maskToCidr(mask) {
        return mask.split('.').map(Number).reduce((acc, octet) => 
            acc + octet.toString(2).split('1').length - 1, 0);
    }

    function validateIP(ip) {
        const parts = ip.split('.');
        if (parts.length !== 4) return false;
        return parts.every(part => {
            const num = parseInt(part);
            return num >= 0 && num <= 255 && !isNaN(num);
        });
    }

    function calculateVLSM() {
        const errorMsg = document.getElementById('errorMessage');
        const errorText = document.getElementById('errorText');
        const resultsContainer = document.getElementById('resultsContainer');
        errorMsg.classList.remove('show');
        resultsContainer.classList.remove('show');

        const networkIP = document.getElementById('networkIP').value.trim();
        let subnetMask = document.getElementById('subnetMask').value.trim();

        if (!networkIP) {
            errorText.textContent = 'Please enter a network IP address!';
            errorMsg.classList.add('show');
            return;
        }

        if (!validateIP(networkIP)) {
            errorText.textContent = 'Invalid network IP address format!';
            errorMsg.classList.add('show');
            return;
        }

        let cidr;
        if (subnetMask.startsWith('/')) {
            cidr = parseInt(subnetMask.substring(1));
            if (isNaN(cidr) || cidr < 0 || cidr > 32) {
                errorText.textContent = 'CIDR notation must be between /0 and /32!';
                errorMsg.classList.add('show');
                return;
            }
        } else if (validateIP(subnetMask)) {
            cidr = maskToCidr(subnetMask);
        } else {
            errorText.textContent = 'Invalid subnet mask format! Use CIDR (e.g., /24) or decimal (e.g., 255.255.255.0)';
            errorMsg.classList.add('show');
            return;
        }

        const subnets = [];
        const nameInputs = document.querySelectorAll('.subnet-name-input');
        const hostsInputs = document.querySelectorAll('.subnet-hosts-input');

        for (let i = 0; i < nameInputs.length; i++) {
            const name = nameInputs[i].value.trim() || `Subnet ${i + 1}`;
            const hosts = parseInt(hostsInputs[i].value);
            
            if (!hosts || hosts < 1) {
                errorText.textContent = `Please enter a valid host count for "${name}"!`;
                errorMsg.classList.add('show');
                return;
            }

            subnets.push({ name, requiredHosts: hosts });
        }

        // Sort by required hosts (largest first) - VLSM best practice
        subnets.sort((a, b) => b.requiredHosts - a.requiredHosts);

        const networkInt = ipToInt(networkIP);
        const networkMask = -1 << (32 - cidr);
        const networkAddr = (networkInt & networkMask) >>> 0;
        const broadcastAddr = (networkAddr | ~networkMask) >>> 0;
        const availableIPs = broadcastAddr - networkAddr + 1;

        let currentIP = networkAddr;
        const results = [];
        let totalAllocated = 0;
        let totalIPsUsed = 0;

        for (const subnet of subnets) {
            const neededHosts = subnet.requiredHosts + 2; // +2 for network and broadcast
            const hostBits = Math.ceil(Math.log2(neededHosts));
            const subnetCidr = 32 - hostBits;
            const subnetSize = Math.pow(2, hostBits);

            if (currentIP + subnetSize - 1 > broadcastAddr) {
                errorText.textContent = 'Not enough IP addresses in the network for all subnets! Try a larger network or fewer/smaller subnets.';
                errorMsg.classList.add('show');
                return;
            }

            const subnetMaskCalc = cidrToMask(subnetCidr);
            const subnetNetwork = intToIp(currentIP);
            const firstUsable = intToIp(currentIP + 1);
            const lastUsable = intToIp(currentIP + subnetSize - 2);
            const broadcast = intToIp(currentIP + subnetSize - 1);
            const usableHosts = subnetSize - 2;

            results.push({
                name: subnet.name,
                network: subnetNetwork,
                mask: subnetMaskCalc,
                cidr: subnetCidr,
                firstUsable,
                lastUsable,
                broadcast,
                usableHosts,
                requiredHosts: subnet.requiredHosts,
                totalIPs: subnetSize
            });

            totalAllocated += usableHosts;
            totalIPsUsed += subnetSize;
            currentIP += subnetSize;
        }

        displayResults(results, totalAllocated, totalIPsUsed);
    }

    function displayResults(results, totalAllocated, totalIPsUsed) {
        const resultsContainer = document.getElementById('resultsContainer');
        const subnetResults = document.getElementById('subnetResults');
        
        document.getElementById('totalSubnets').textContent = results.length;
        document.getElementById('totalHosts').textContent = totalAllocated.toLocaleString();
        document.getElementById('ipsUsed').textContent = totalIPsUsed.toLocaleString();

        subnetResults.innerHTML = results.map((subnet, index) => `
            <div class="subnet-card">
                <div class="subnet-header">
                    <div class="subnet-name"><i class="fas fa-network-wired"></i> ${subnet.name}</div>
                    <div class="subnet-badge">${subnet.usableHosts} Usable Hosts</div>
                </div>
                <div class="subnet-info">
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-project-diagram"></i> Network Address</div>
                        <div class="info-value">${subnet.network}/${subnet.cidr}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-shield-alt"></i> Subnet Mask</div>
                        <div class="info-value">${subnet.mask}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-arrow-right"></i> First Usable IP</div>
                        <div class="info-value">${subnet.firstUsable}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-arrow-left"></i> Last Usable IP</div>
                        <div class="info-value">${subnet.lastUsable}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-broadcast-tower"></i> Broadcast Address</div>
                        <div class="info-value">${subnet.broadcast}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-chart-bar"></i> Required / Allocated</div>
                        <div class="info-value">${subnet.requiredHosts} / ${subnet.usableHosts}</div>
                    </div>
                </div>
            </div>
        `).join('');

        resultsContainer.classList.add('show');
        resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    function exportResults() {
        const networkIP = document.getElementById('networkIP').value.trim();
        const subnetMask = document.getElementById('subnetMask').value.trim();
        const totalSubnets = document.getElementById('totalSubnets').textContent;
        const totalHosts = document.getElementById('totalHosts').textContent;
        const ipsUsed = document.getElementById('ipsUsed').textContent;
        
        let exportText = '═══════════════════════════════════════════════════════\n';
        exportText += '           VLSM CALCULATION RESULTS\n';
        exportText += '═══════════════════════════════════════════════════════\n\n';
        
        exportText += 'NETWORK CONFIGURATION:\n';
        exportText += '─────────────────────────────────────────────────────\n';
        exportText += `Network IP: ${networkIP}\n`;
        exportText += `Subnet Mask: ${subnetMask}\n\n`;
        
        exportText += 'SUMMARY:\n';
        exportText += '─────────────────────────────────────────────────────\n';
        exportText += `Total Subnets: ${totalSubnets}\n`;
        exportText += `Total Usable Hosts: ${totalHosts}\n`;
        exportText += `Total IPs Used: ${ipsUsed}\n\n`;
        
        exportText += 'SUBNET DETAILS:\n';
        exportText += '═══════════════════════════════════════════════════════\n\n';
        
        const subnetCards = document.querySelectorAll('.subnet-card');
        subnetCards.forEach((card, index) => {
            const name = card.querySelector('.subnet-name').textContent.trim();
            const infoItems = card.querySelectorAll('.info-item');
            
            exportText += `${index + 1}. ${name}\n`;
            exportText += '───────────────────────────────────────────────────\n';
            
            infoItems.forEach(item => {
                const label = item.querySelector('.info-label').textContent.trim();
                const value = item.querySelector('.info-value').textContent.trim();
                exportText += `${label}: ${value}\n`;
            });
            
            exportText += '\n';
        });
        
        exportText += '═══════════════════════════════════════════════════════\n';
        exportText += `Generated: ${new Date().toLocaleString()}\n`;
        exportText += '═══════════════════════════════════════════════════════\n';
        
        const blob = new Blob([exportText], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `vlsm-results-${Date.now()}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    // Hamburger menu functionality
    const hamburger = document.getElementById('hamburger');
    const navbar = document.getElementById('navbar');
    const navMenu = document.getElementById('navMenu');

    hamburger.addEventListener('click', function() {
        hamburger.classList.toggle('active');
        navbar.classList.toggle('active');
    });

    navMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function() {
            hamburger.classList.remove('active');
            navbar.classList.remove('active');
        });
    });

    // Add input validation on keyup
    document.getElementById('networkIP').addEventListener('keyup', function(e) {
        if (e.key === 'Enter') {
            calculateVLSM();
        }
    });

    document.getElementById('subnetMask').addEventListener('keyup', function(e) {
        if (e.key === 'Enter') {
            calculateVLSM();
        }
    });
</script>

</body>
</html>
